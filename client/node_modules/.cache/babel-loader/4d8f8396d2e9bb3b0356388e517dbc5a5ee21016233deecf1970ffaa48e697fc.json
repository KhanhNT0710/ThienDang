{"ast":null,"code":"import React from\"react\";import{Button}from\"antd\";import{useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{ROUTES}from\"../../constants/routes\";import\"./style.scss\";import CardTable from\"../../components/CardTable\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CartPage=()=>{const navigate=useNavigate();const{carts}=useSelector(state=>state.cart);const{isLogin}=useSelector(state=>state.user);const formatNumber=num=>{let numString=\"\";while(num>0){let div=num%1000;num=Math.floor(num/1000);if(num!==0){if(div<10){div=\"00\"+div;}else if(div<100){div=\"0\"+div;}numString=\".\"+div+numString;}else{numString=div+numString;}}return numString;};const getTotalMoneyInBill=()=>{const totalMoneyInBill=carts.reduce((total,cart)=>{return total+parseFloat(cart.price)*cart.quantity;},0);return formatNumber(totalMoneyInBill);};const handleRedirectToPayment=()=>{if(carts.length!==0){if(isLogin){navigate(ROUTES.ORDER_PAGE);}else{navigate(ROUTES.LOGIN_PAGE);}}else{alert(\"Vui lòng thêm sản phẩm vào giỏ hàng trước\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"cart-page-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cart-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-page-shop-table\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-page-shop-table__shop-table-grp\",children:/*#__PURE__*/_jsx(CardTable,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-page-cart-totals\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-page-cart-totals__cart-totals\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-page-cart-totals__title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Th\\xF4ng tin \\u0111\\u01A1n h\\xE0ng\"})}),/*#__PURE__*/_jsx(\"table\",{className:\"cart-page-cart-totals__car-totals-table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Shipping\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Ph\\xED v\\u1EADn chuy\\u1EC3n s\\u1EBD \\u0111\\u01B0\\u1EE3c c\\u1EADp nh\\u1EADt trong qu\\xE1 tr\\xECnh thanh to\\xE1n.\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{style:{color:\"red\"},children:[/*#__PURE__*/_jsx(\"td\",{children:\"T\\u1ED5ng c\\u1ED9ng\"}),/*#__PURE__*/_jsx(\"td\",{children:getTotalMoneyInBill()})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-page-cart-totals__btn-proceed-to-checkout\",children:/*#__PURE__*/_jsx(Button,{onClick:handleRedirectToPayment,children:\"\\u0110\\u1EB7t H\\xE0ng\"})})]})})]})})});};export default CartPage;","map":{"version":3,"names":["React","Button","useSelector","useNavigate","ROUTES","CardTable","jsx","_jsx","jsxs","_jsxs","CartPage","navigate","carts","state","cart","isLogin","user","formatNumber","num","numString","div","Math","floor","getTotalMoneyInBill","totalMoneyInBill","reduce","total","parseFloat","price","quantity","handleRedirectToPayment","length","ORDER_PAGE","LOGIN_PAGE","alert","className","children","style","color","onClick"],"sources":["D:/Front End/ReactJS/thien dang/client/src/pages/CartPage/index.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Button } from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ROUTES } from \"../../constants/routes\";\r\nimport \"./style.scss\";\r\nimport CardTable from \"../../components/CardTable\";\r\n\r\nconst CartPage = () => {\r\n    const navigate = useNavigate();\r\n    const { carts } = useSelector((state) => state.cart);\r\n    const { isLogin } = useSelector((state) => state.user);\r\n\r\n    const formatNumber = (num) => {\r\n        let numString = \"\";\r\n        while (num > 0) {\r\n            let div = num % 1000;\r\n            num = Math.floor(num / 1000);\r\n            if (num !== 0) {\r\n                if (div < 10) {\r\n                    div = \"00\" + div;\r\n                } else if (div < 100) {\r\n                    div = \"0\" + div;\r\n                }\r\n                numString = \".\" + div + numString;\r\n            } else {\r\n                numString = div + numString;\r\n            }\r\n        }\r\n        return numString;\r\n    };\r\n\r\n    const getTotalMoneyInBill = () => {\r\n        const totalMoneyInBill = carts.reduce((total, cart) => {\r\n            return total + parseFloat(cart.price) * cart.quantity;\r\n        }, 0);\r\n        return formatNumber(totalMoneyInBill);\r\n    };\r\n\r\n    const handleRedirectToPayment = () => {\r\n        if (carts.length !== 0) {\r\n            if (isLogin) {\r\n                navigate(ROUTES.ORDER_PAGE);\r\n            } else {\r\n                navigate(ROUTES.LOGIN_PAGE);\r\n            }\r\n        } else {\r\n            alert(\"Vui lòng thêm sản phẩm vào giỏ hàng trước\")\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"cart-page-wrapper\">\r\n            <div className=\"cart-page\">\r\n                <div className=\"cart-page-shop-table\">\r\n                    <div className=\"cart-page-shop-table__shop-table-grp\">\r\n                        <CardTable />\r\n                    </div>\r\n\r\n                    <div className=\"cart-page-cart-totals\">\r\n                        <div className=\"cart-page-cart-totals__cart-totals\">\r\n                            <div className=\"cart-page-cart-totals__title\">\r\n                                <h3>Thông tin đơn hàng</h3>\r\n                            </div>\r\n                            <table className=\"cart-page-cart-totals__car-totals-table\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td>Shipping</td>\r\n                                        <td>\r\n                                            <p>Phí vận chuyển sẽ được cập nhật trong quá trình thanh toán.</p>\r\n                                        </td>\r\n                                    </tr>\r\n\r\n                                    <tr style={{ color: \"red\" }}>\r\n                                        <td>Tổng cộng</td>\r\n                                        <td >{getTotalMoneyInBill()}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n\r\n                            <div className=\"cart-page-cart-totals__btn-proceed-to-checkout\">\r\n                                <Button onClick={handleRedirectToPayment}>\r\n                                    Đặt Hàng\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,MAAM,CAC7B,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,MAAM,KAAQ,wBAAwB,CAC/C,MAAO,cAAc,CACrB,MAAO,CAAAC,SAAS,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAES,KAAM,CAAC,CAAGV,WAAW,CAAEW,KAAK,EAAKA,KAAK,CAACC,IAAI,CAAC,CACpD,KAAM,CAAEC,OAAQ,CAAC,CAAGb,WAAW,CAAEW,KAAK,EAAKA,KAAK,CAACG,IAAI,CAAC,CAEtD,KAAM,CAAAC,YAAY,CAAIC,GAAG,EAAK,CAC1B,GAAI,CAAAC,SAAS,CAAG,EAAE,CAClB,MAAOD,GAAG,CAAG,CAAC,CAAE,CACZ,GAAI,CAAAE,GAAG,CAAGF,GAAG,CAAG,IAAI,CACpBA,GAAG,CAAGG,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAG,IAAI,CAAC,CAC5B,GAAIA,GAAG,GAAK,CAAC,CAAE,CACX,GAAIE,GAAG,CAAG,EAAE,CAAE,CACVA,GAAG,CAAG,IAAI,CAAGA,GAAG,CACpB,CAAC,IAAM,IAAIA,GAAG,CAAG,GAAG,CAAE,CAClBA,GAAG,CAAG,GAAG,CAAGA,GAAG,CACnB,CACAD,SAAS,CAAG,GAAG,CAAGC,GAAG,CAAGD,SAAS,CACrC,CAAC,IAAM,CACHA,SAAS,CAAGC,GAAG,CAAGD,SAAS,CAC/B,CACJ,CACA,MAAO,CAAAA,SAAS,CACpB,CAAC,CAED,KAAM,CAAAI,mBAAmB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAAC,gBAAgB,CAAGZ,KAAK,CAACa,MAAM,CAAC,CAACC,KAAK,CAAEZ,IAAI,GAAK,CACnD,MAAO,CAAAY,KAAK,CAAGC,UAAU,CAACb,IAAI,CAACc,KAAK,CAAC,CAAGd,IAAI,CAACe,QAAQ,CACzD,CAAC,CAAE,CAAC,CAAC,CACL,MAAO,CAAAZ,YAAY,CAACO,gBAAgB,CAAC,CACzC,CAAC,CAED,KAAM,CAAAM,uBAAuB,CAAGA,CAAA,GAAM,CAClC,GAAIlB,KAAK,CAACmB,MAAM,GAAK,CAAC,CAAE,CACpB,GAAIhB,OAAO,CAAE,CACTJ,QAAQ,CAACP,MAAM,CAAC4B,UAAU,CAAC,CAC/B,CAAC,IAAM,CACHrB,QAAQ,CAACP,MAAM,CAAC6B,UAAU,CAAC,CAC/B,CACJ,CAAC,IAAM,CACHC,KAAK,CAAC,2CAA2C,CAAC,CACtD,CAEJ,CAAC,CAED,mBACI3B,IAAA,QAAK4B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAC9B7B,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtB3B,KAAA,QAAK0B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACjC7B,IAAA,QAAK4B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,cACjD7B,IAAA,CAACF,SAAS,GAAE,CAAC,CACZ,CAAC,cAENE,IAAA,QAAK4B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cAClC3B,KAAA,QAAK0B,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eAC/C7B,IAAA,QAAK4B,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cACzC7B,IAAA,OAAA6B,QAAA,CAAI,oCAAkB,CAAI,CAAC,CAC1B,CAAC,cACN7B,IAAA,UAAO4B,SAAS,CAAC,yCAAyC,CAAAC,QAAA,cACtD3B,KAAA,UAAA2B,QAAA,eACI3B,KAAA,OAAA2B,QAAA,eACI7B,IAAA,OAAA6B,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB7B,IAAA,OAAA6B,QAAA,cACI7B,IAAA,MAAA6B,QAAA,CAAG,iHAA2D,CAAG,CAAC,CAClE,CAAC,EACL,CAAC,cAEL3B,KAAA,OAAI4B,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAF,QAAA,eACxB7B,IAAA,OAAA6B,QAAA,CAAI,qBAAS,CAAI,CAAC,cAClB7B,IAAA,OAAA6B,QAAA,CAAMb,mBAAmB,CAAC,CAAC,CAAK,CAAC,EACjC,CAAC,EACF,CAAC,CACL,CAAC,cAERhB,IAAA,QAAK4B,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC3D7B,IAAA,CAACN,MAAM,EAACsC,OAAO,CAAET,uBAAwB,CAAAM,QAAA,CAAC,uBAE1C,CAAQ,CAAC,CACR,CAAC,EACL,CAAC,CACL,CAAC,EACL,CAAC,CACL,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA1B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}