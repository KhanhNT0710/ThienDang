{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { orderApis } from \"../../../apis/orderApis\";\nimport { message } from \"antd\";\nimport { actClearCarts } from \"../cart/cartSlice\";\nconst initialState = {\n  orders: [],\n  order: {},\n  isLoading: false,\n  errors: {},\n  isBought: false\n};\nexport const actFetchAllOrders = createAsyncThunk(\"order/fetchAllOrders\", async params => {\n  const response = await orderApis.getAllOrders({\n    params: params\n  });\n  return response.data;\n});\nexport const actAddOrder = createAsyncThunk(\"order/addOrder\", async order => {\n  const response = await orderApis.addOrder(order);\n  console.log(response, 'response');\n  return response;\n  // const response = await orderApis.addOrder(order);\n  // return response;\n});\nexport const actFetchOrderById = createAsyncThunk(\"order/fetchOrderById\", async id => {\n  return await orderApis.getOrderById(id);\n});\nconst orderSlice = createSlice({\n  name: \"order\",\n  initialState: initialState,\n  reducers: {\n    setLoading: (state, action) => {\n      state.isLoading = true;\n    },\n    sendOrderSuccess: (state, action) => {\n      state.order = action.payload;\n      message.success(\"Đặt hàng thành công! Success\");\n    },\n    sendOrderFailure: (state, action) => {\n      message.error(\"Đặt hàng thất bại! Failure\");\n    },\n    clearOrder: (state, action) => {\n      state.orders = [];\n      state.order = {};\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(actFetchAllOrders.pending, (state, action) => {\n      state.isLoading = true;\n    });\n    builder.addCase(actFetchAllOrders.rejected, (state, action) => {\n      state.isLoading = false;\n      state.errors = {};\n    });\n    builder.addCase(actFetchAllOrders.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.orders = action.payload;\n    });\n    builder.addCase(actAddOrder.fulfilled, (state, action) => {\n      // console.log(action.payload, \"action.payload add order ne\");\n      state.order = action.payload;\n      state.orders.push(action.payload);\n      message.success(\"Đặt hàng thành công!\");\n    });\n    builder.addCase(actAddOrder.rejected, (state, action) => {\n      state.orders = [];\n      state.customerInfo = {};\n      message.error(action.payload);\n    });\n    builder.addCase(actFetchOrderById.fulfilled, (state, action) => {\n      state.order = action.payload;\n    });\n  }\n});\nexport const {\n  setLoading,\n  sendOrderSuccess,\n  sendOrderFailure,\n  clearOrder\n} = orderSlice.actions;\nexport const orderReducer = orderSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","orderApis","message","actClearCarts","initialState","orders","order","isLoading","errors","isBought","actFetchAllOrders","params","response","getAllOrders","data","actAddOrder","addOrder","console","log","actFetchOrderById","id","getOrderById","orderSlice","name","reducers","setLoading","state","action","sendOrderSuccess","payload","success","sendOrderFailure","error","clearOrder","extraReducers","builder","addCase","pending","rejected","fulfilled","push","customerInfo","actions","orderReducer","reducer"],"sources":["D:/Front End/ReactJS/thien dang/client/src/redux/features/order/orderSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { orderApis } from \"../../../apis/orderApis\";\nimport { message } from \"antd\";\nimport { actClearCarts } from \"../cart/cartSlice\";\n\nconst initialState = {\n  orders: [],\n  order: {},\n  isLoading: false,\n  errors: {},\n  isBought: false,\n};\n\nexport const actFetchAllOrders = createAsyncThunk(\n  \"order/fetchAllOrders\",\n  async (params) => {\n    const response = await orderApis.getAllOrders({ params: params });\n    return response.data;\n  }\n);\n\nexport const actAddOrder = createAsyncThunk(\"order/addOrder\", async (order) => {\n  const response = await orderApis.addOrder(order);\n  console.log(response, 'response');\n  return response;\n  // const response = await orderApis.addOrder(order);\n  // return response;\n});\n\nexport const actFetchOrderById = createAsyncThunk(\n  \"order/fetchOrderById\",\n  async (id) => {\n    return await orderApis.getOrderById(id);\n  }\n);\n\nconst orderSlice = createSlice({\n  name: \"order\",\n  initialState: initialState,\n  reducers: {\n    setLoading: (state, action) => {\n      state.isLoading = true;\n    },\n    sendOrderSuccess: (state, action) => {\n      state.order = action.payload;\n      message.success(\"Đặt hàng thành công! Success\");\n    },\n    sendOrderFailure: (state, action) => {\n      message.error(\"Đặt hàng thất bại! Failure\");\n    },\n    clearOrder: (state, action) => {\n      state.orders = [];\n      state.order = {};\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(actFetchAllOrders.pending, (state, action) => {\n      state.isLoading = true;\n    });\n    builder.addCase(actFetchAllOrders.rejected, (state, action) => {\n      state.isLoading = false;\n      state.errors = {};\n    });\n    builder.addCase(actFetchAllOrders.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.orders = action.payload;\n    });\n\n    builder.addCase(actAddOrder.fulfilled, (state, action) => {\n      // console.log(action.payload, \"action.payload add order ne\");\n      state.order = action.payload;\n      state.orders.push(action.payload);\n      message.success(\"Đặt hàng thành công!\");\n    });\n    builder.addCase(actAddOrder.rejected, (state, action) => {\n      state.orders = [];\n      state.customerInfo = {};\n      message.error(action.payload);\n    });\n\n    builder.addCase(actFetchOrderById.fulfilled, (state, action) => {\n      state.order = action.payload;\n    });\n  },\n});\n\nexport const { setLoading, sendOrderSuccess, sendOrderFailure, clearOrder } =\n  orderSlice.actions;\nexport const orderReducer = orderSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}