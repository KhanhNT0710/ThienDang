{"ast":null,"code":"import{Input,InputNumber}from\"antd\";import{CloseOutlined}from\"@ant-design/icons\";import{useDispatch,useSelector}from\"react-redux\";import{generatePath,useNavigate}from\"react-router-dom\";import{ROUTES}from\"../../constants/routes\";import React from\"react\";import{actClearCarts,actDeleteProductInCarts,actUpdateQuantityOfProduct}from\"../../redux/features/cart/cartSlice\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CardTable=()=>{const dispatch=useDispatch();const navigate=useNavigate();const{carts}=useSelector(state=>state.cart);const formatNumber=num=>{let numString=\"\";while(num>0){let div=num%1000;num=Math.floor(num/1000);if(num!==0){if(div<10){div=\"00\"+div;}else if(div<100){div=\"0\"+div;}numString=\".\"+div+numString;}else{numString=div+numString;}}return numString;};const onChangeQuantity=(id,quantity)=>{dispatch(actUpdateQuantityOfProduct({id:id,quantity:quantity}));};const handleDeleteProductInCarts=productId=>{dispatch(actDeleteProductInCarts(productId));};const handleRedirectToDetailProduct=id=>{navigate(generatePath(ROUTES.DETAIL_PRODUCT_PAGE,{productId:id}));};const handleClearCarts=()=>{dispatch(actClearCarts());};const renderCartsList=carts=>{return carts.map(cart=>{return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"cart-page-shop-table__img-product\",children:/*#__PURE__*/_jsx(\"img\",{src:cart.imgURL,alt:\"\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"cart-page-shop-table__name-product\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"name\",onClick:()=>handleRedirectToDetailProduct(cart.idProduct),children:\"\".concat(cart.name,\" \")}),/*#__PURE__*/_jsx(\"p\",{className:\"color\",children:\"Style: \".concat(cart.style)})]}),/*#__PURE__*/_jsx(\"td\",{className:\"cart-page-shop-table__price-product\",children:\"\".concat(formatNumber(cart.price))}),/*#__PURE__*/_jsx(\"td\",{className:\"cart-page-shop-table__quantity-product\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cart-page-shop-table__quantity-grp\",children:/*#__PURE__*/_jsx(InputNumber,{className:\"cart-page-shop-table__quantity\",min:1,max:99,value:cart.quantity,style:{width:62,borderRadius:0},onChange:value=>onChangeQuantity(cart.id,value)})})}),/*#__PURE__*/_jsx(\"td\",{className:\"cart-page-shop-table__subtotal-product\",children:formatNumber(cart.quantity*cart.price)}),/*#__PURE__*/_jsx(\"td\",{className:\"cart-page-shop-table__cancel-btn\",children:/*#__PURE__*/_jsx(CloseOutlined,{onClick:()=>handleDeleteProductInCarts(cart.id)})})]},cart.id);});};return/*#__PURE__*/_jsxs(\"table\",{className:\"cart-page-shop-table__shop-table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"cart-page-shop-table__thead\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"cart-page-shop-table__thead-tr\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"cart-page-shop-table__th2\"}),/*#__PURE__*/_jsx(\"th\",{className:\"cart-page-shop-table__th3\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{className:\"cart-page-shop-table__th4\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"cart-page-shop-table__th5\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"cart-page-shop-table__th6\",children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"cart-page-shop-table__th1\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"cart-page-shop-table__tbody\",children:renderCartsList(carts)}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:6,children:/*#__PURE__*/_jsx(\"div\",{className:\"cart-page-shop-table__tfoot-grp\",children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:40},children:/*#__PURE__*/_jsx(\"button\",{className:\"cart-page-shop-table__clear-cart\",onClick:()=>handleClearCarts(),children:\"Clear\"})})})})})})]});};export default CardTable;","map":{"version":3,"names":["Input","InputNumber","CloseOutlined","useDispatch","useSelector","generatePath","useNavigate","ROUTES","React","actClearCarts","actDeleteProductInCarts","actUpdateQuantityOfProduct","jsx","_jsx","jsxs","_jsxs","CardTable","dispatch","navigate","carts","state","cart","formatNumber","num","numString","div","Math","floor","onChangeQuantity","id","quantity","handleDeleteProductInCarts","productId","handleRedirectToDetailProduct","DETAIL_PRODUCT_PAGE","handleClearCarts","renderCartsList","map","children","className","src","imgURL","alt","onClick","idProduct","concat","name","style","price","min","max","value","width","borderRadius","onChange","colSpan","display","gap"],"sources":["D:/Front End/ReactJS/thien dang/client/src/components/CardTable/index.jsx"],"sourcesContent":["import { Input, InputNumber } from \"antd\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { generatePath, useNavigate } from \"react-router-dom\";\nimport { ROUTES } from \"../../constants/routes\";\nimport React from \"react\";\nimport {\n  actClearCarts,\n  actDeleteProductInCarts,\n  actUpdateQuantityOfProduct,\n} from \"../../redux/features/cart/cartSlice\";\n\nconst CardTable = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { carts } = useSelector((state) => state.cart);\n\n  const formatNumber = (num) => {\n    let numString = \"\";\n    while (num > 0) {\n      let div = num % 1000;\n      num = Math.floor(num / 1000);\n      if (num !== 0) {\n        if (div < 10) {\n          div = \"00\" + div;\n        } else if (div < 100) {\n          div = \"0\" + div;\n        }\n        numString = \".\" + div + numString;\n      } else {\n        numString = div + numString;\n      }\n    }\n    return numString;\n  };\n\n  const onChangeQuantity = (id, quantity) => {\n    dispatch(actUpdateQuantityOfProduct({ id: id, quantity: quantity }));\n  };\n\n  const handleDeleteProductInCarts = (productId) => {\n    dispatch(actDeleteProductInCarts(productId));\n  };\n  const handleRedirectToDetailProduct = (id) => {\n    navigate(generatePath(ROUTES.DETAIL_PRODUCT_PAGE, { productId: id }));\n  }\n\n  const handleClearCarts = () => {\n    dispatch(actClearCarts());\n  };\n  const renderCartsList = (carts) => {\n    return carts.map((cart) => {\n      return (\n        <tr key={cart.id}>\n          <td className=\"cart-page-shop-table__img-product\">\n            <img src={cart.imgURL} alt=\"\" />\n          </td>\n          <td className=\"cart-page-shop-table__name-product\" >\n            <p className=\"name\"\n              onClick={() => handleRedirectToDetailProduct(cart.idProduct)}\n            >\n              {`${cart.name} `}</p>\n            <p className=\"color\">{`Style: ${cart.style}`}</p>\n          </td>\n          <td className=\"cart-page-shop-table__price-product\">{`${formatNumber(\n            cart.price\n          )}`}</td>\n          <td className=\"cart-page-shop-table__quantity-product\">\n            <div className=\"cart-page-shop-table__quantity-grp\">\n              <InputNumber\n                className=\"cart-page-shop-table__quantity\"\n                min={1}\n                max={99}\n                value={cart.quantity}\n                style={{ width: 62, borderRadius: 0 }}\n                onChange={(value) => onChangeQuantity(cart.id, value)}\n              />\n            </div>\n          </td>\n          <td className=\"cart-page-shop-table__subtotal-product\">\n            {formatNumber(cart.quantity * cart.price)}\n          </td>\n          <td className=\"cart-page-shop-table__cancel-btn\">\n            <CloseOutlined\n              onClick={() => handleDeleteProductInCarts(cart.id)}\n            />\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  return (\n    <table className=\"cart-page-shop-table__shop-table\">\n      <thead className=\"cart-page-shop-table__thead\">\n        <tr className=\"cart-page-shop-table__thead-tr\">\n          <th className=\"cart-page-shop-table__th2\"></th>\n          <th className=\"cart-page-shop-table__th3\">Product</th>\n          <th className=\"cart-page-shop-table__th4\">Price</th>\n          <th className=\"cart-page-shop-table__th5\">Quantity</th>\n          <th className=\"cart-page-shop-table__th6\">Subtotal</th>\n          <th className=\"cart-page-shop-table__th1\"></th>\n        </tr>\n      </thead>\n\n      <tbody className=\"cart-page-shop-table__tbody\">\n        {renderCartsList(carts)}\n      </tbody>\n\n      <tfoot>\n        <tr>\n          <td colSpan={6}>\n            <div className=\"cart-page-shop-table__tfoot-grp\">\n\n\n              <div style={{ display: \"flex\", gap: 40 }}>\n\n                <button className=\"cart-page-shop-table__clear-cart\"\n                  onClick={() => handleClearCarts()}\n                >\n                  Clear\n                </button>\n\n              </div>\n            </div>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n  );\n};\n\nexport default CardTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}