{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImageUpload=()=>{const[selectedFile,setSelectedFile]=useState(null);const[imageUrl,setImageUrl]=useState('');const[message,setMessage]=useState('');const handleFileChange=event=>{setSelectedFile(event.target.files[0]);};const handleUpload=async()=>{if(!selectedFile){alert('Please select a file before uploading.');return;}const formData=new FormData();formData.append('file',selectedFile);try{const response=await axios.post('https://denlongthiendang.com/api/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});const uploadedImageUrl=response.data.filePath;setImageUrl(uploadedImageUrl);setMessage('Image uploaded successfully!');}catch(error){console.error('Error uploading the file:',error);alert('Failed to upload the file. '+(error.response?error.response.data:''));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,children:\"Upload\"}),imageUrl&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uploaded Image:\"}),/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"Uploaded\",style:{maxWidth:'300px',maxHeight:'300px'}})]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});};export default ImageUpload;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","ImageUpload","selectedFile","setSelectedFile","imageUrl","setImageUrl","message","setMessage","handleFileChange","event","target","files","handleUpload","alert","formData","FormData","append","response","post","headers","uploadedImageUrl","data","filePath","error","console","children","type","accept","onChange","onClick","src","alt","style","maxWidth","maxHeight"],"sources":["D:/Front End/ReactJS/thien dang/client/src/upload/ImageUpload.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ImageUpload = () => {\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [message, setMessage] = useState('');\r\n\r\n    const handleFileChange = (event) => {\r\n        setSelectedFile(event.target.files[0]);\r\n    };\r\n\r\n    const handleUpload = async () => {\r\n        if (!selectedFile) {\r\n            alert('Please select a file before uploading.');\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append('file', selectedFile);\r\n\r\n        try {\r\n            const response = await axios.post('https://denlongthiendang.com/api/upload', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n\r\n            const uploadedImageUrl = response.data.filePath;\r\n            setImageUrl(uploadedImageUrl);\r\n            setMessage('Image uploaded successfully!');\r\n\r\n        } catch (error) {\r\n            console.error('Error uploading the file:', error);\r\n            alert('Failed to upload the file. ' + (error.response ? error.response.data : ''));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Upload Image</h2>\r\n            <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\r\n            <button onClick={handleUpload}>Upload</button>\r\n            {imageUrl && (\r\n                <div>\r\n                    <h3>Uploaded Image:</h3>\r\n                    <img src={imageUrl} alt=\"Uploaded\" style={{ maxWidth: '300px', maxHeight: '300px' }} />\r\n                </div>\r\n            )}\r\n            {message && <p>{message}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImageUpload;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAa,gBAAgB,CAAIC,KAAK,EAAK,CAChCN,eAAe,CAACM,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC1C,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CAACV,YAAY,CAAE,CACfW,KAAK,CAAC,wCAAwC,CAAC,CAC/C,OACJ,CAEA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEd,YAAY,CAAC,CAErC,GAAI,CACA,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAArB,KAAK,CAACsB,IAAI,CAAC,yCAAyC,CAAEJ,QAAQ,CAAE,CACnFK,OAAO,CAAE,CACL,cAAc,CAAE,qBACpB,CACJ,CAAC,CAAC,CAEF,KAAM,CAAAC,gBAAgB,CAAGH,QAAQ,CAACI,IAAI,CAACC,QAAQ,CAC/CjB,WAAW,CAACe,gBAAgB,CAAC,CAC7Bb,UAAU,CAAC,8BAA8B,CAAC,CAE9C,CAAE,MAAOgB,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDV,KAAK,CAAC,6BAA6B,EAAIU,KAAK,CAACN,QAAQ,CAAGM,KAAK,CAACN,QAAQ,CAACI,IAAI,CAAG,EAAE,CAAC,CAAC,CACtF,CACJ,CAAC,CAED,mBACIrB,KAAA,QAAAyB,QAAA,eACI3B,IAAA,OAAA2B,QAAA,CAAI,cAAY,CAAI,CAAC,cACrB3B,IAAA,UAAO4B,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,SAAS,CAACC,QAAQ,CAAEpB,gBAAiB,CAAE,CAAC,cAClEV,IAAA,WAAQ+B,OAAO,CAAEjB,YAAa,CAAAa,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC7CrB,QAAQ,eACLJ,KAAA,QAAAyB,QAAA,eACI3B,IAAA,OAAA2B,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB3B,IAAA,QAAKgC,GAAG,CAAE1B,QAAS,CAAC2B,GAAG,CAAC,UAAU,CAACC,KAAK,CAAE,CAAEC,QAAQ,CAAE,OAAO,CAAEC,SAAS,CAAE,OAAQ,CAAE,CAAE,CAAC,EACtF,CACR,CACA5B,OAAO,eAAIR,IAAA,MAAA2B,QAAA,CAAInB,OAAO,CAAI,CAAC,EAC3B,CAAC,CAEd,CAAC,CAED,cAAe,CAAAL,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}