{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import{message}from\"antd\";const KEY_CARTS_LIST=\"key_carts_list\";const initialState={carts:JSON.parse(localStorage.getItem(KEY_CARTS_LIST))||[]};const cartSlice=createSlice({name:\"carts\",initialState:initialState,reducers:{actAddProductToCarts:(state,action)=>{const product=action.payload;// const { id, name, imgURL, price, quantity } = product;\nconst existedItemIndex=state.carts.findIndex(cart=>cart.id===product.id);// nếu trùng id => + quantity\nif(existedItemIndex>-1){state.carts[existedItemIndex].quantity+=product.quantity;}else{state.carts.push({...product});}localStorage.setItem(KEY_CARTS_LIST,JSON.stringify(state.carts));message.success(\"Đã thêm vào giỏ hàng\");},actDeleteProductInCarts:(state,action)=>{state.carts=state.carts.filter(cart=>cart.id!==action.payload);localStorage.setItem(KEY_CARTS_LIST,JSON.stringify(state.carts));},actClearCarts:(state,action)=>{state.carts=[];localStorage.setItem(KEY_CARTS_LIST,JSON.stringify(state.carts));},actUpdateQuantityOfProduct:(state,action)=>{const{id,quantity}=action.payload;const existedItemIndex=state.carts.findIndex(item=>item.id===id);state.carts[existedItemIndex].quantity=quantity;localStorage.setItem(KEY_CARTS_LIST,JSON.stringify(state.carts));}}});export const{actAddProductToCarts,actDeleteProductInCarts,actClearCarts,actUpdateQuantityOfProduct}=cartSlice.actions;export const cartReducer=cartSlice.reducer;","map":{"version":3,"names":["createSlice","message","KEY_CARTS_LIST","initialState","carts","JSON","parse","localStorage","getItem","cartSlice","name","reducers","actAddProductToCarts","state","action","product","payload","existedItemIndex","findIndex","cart","id","quantity","push","setItem","stringify","success","actDeleteProductInCarts","filter","actClearCarts","actUpdateQuantityOfProduct","item","actions","cartReducer","reducer"],"sources":["D:/Front End/ReactJS/thien dang/client/src/redux/features/cart/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { message } from \"antd\";\n\nconst KEY_CARTS_LIST = \"key_carts_list\";\nconst initialState = {\n  carts: JSON.parse(localStorage.getItem(KEY_CARTS_LIST)) || [],\n};\n\nconst cartSlice = createSlice({\n  name: \"carts\",\n  initialState: initialState,\n  reducers: {\n    actAddProductToCarts: (state, action) => {\n      const product = action.payload;\n      // const { id, name, imgURL, price, quantity } = product;\n      const existedItemIndex = state.carts.findIndex(\n        (cart) => cart.id === product.id\n      );\n      // nếu trùng id => + quantity\n      if (existedItemIndex > -1) {\n        state.carts[existedItemIndex].quantity += product.quantity;\n      } else {\n        state.carts.push({ ...product });\n      }\n      localStorage.setItem(KEY_CARTS_LIST, JSON.stringify(state.carts));\n      message.success(\"Đã thêm vào giỏ hàng\");\n    },\n\n    actDeleteProductInCarts: (state, action) => {\n      state.carts = state.carts.filter((cart) => cart.id !== action.payload);\n      localStorage.setItem(KEY_CARTS_LIST, JSON.stringify(state.carts));\n    },\n\n    actClearCarts: (state, action) => {\n      state.carts = [];\n      localStorage.setItem(KEY_CARTS_LIST, JSON.stringify(state.carts));\n    },\n\n    actUpdateQuantityOfProduct: (state, action) => {\n      const { id, quantity } = action.payload;\n      const existedItemIndex = state.carts.findIndex((item) => item.id === id);\n      state.carts[existedItemIndex].quantity = quantity;\n      localStorage.setItem(KEY_CARTS_LIST, JSON.stringify(state.carts));\n    },\n  },\n});\n\nexport const {\n  actAddProductToCarts,\n  actDeleteProductInCarts,\n  actClearCarts,\n  actUpdateQuantityOfProduct,\n} = cartSlice.actions;\nexport const cartReducer = cartSlice.reducer;\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,MAAM,CAE9B,KAAM,CAAAC,cAAc,CAAG,gBAAgB,CACvC,KAAM,CAAAC,YAAY,CAAG,CACnBC,KAAK,CAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACN,cAAc,CAAC,CAAC,EAAI,EAC7D,CAAC,CAED,KAAM,CAAAO,SAAS,CAAGT,WAAW,CAAC,CAC5BU,IAAI,CAAE,OAAO,CACbP,YAAY,CAAEA,YAAY,CAC1BQ,QAAQ,CAAE,CACRC,oBAAoB,CAAEA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACvC,KAAM,CAAAC,OAAO,CAAGD,MAAM,CAACE,OAAO,CAC9B;AACA,KAAM,CAAAC,gBAAgB,CAAGJ,KAAK,CAACT,KAAK,CAACc,SAAS,CAC3CC,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKL,OAAO,CAACK,EAChC,CAAC,CACD;AACA,GAAIH,gBAAgB,CAAG,CAAC,CAAC,CAAE,CACzBJ,KAAK,CAACT,KAAK,CAACa,gBAAgB,CAAC,CAACI,QAAQ,EAAIN,OAAO,CAACM,QAAQ,CAC5D,CAAC,IAAM,CACLR,KAAK,CAACT,KAAK,CAACkB,IAAI,CAAC,CAAE,GAAGP,OAAQ,CAAC,CAAC,CAClC,CACAR,YAAY,CAACgB,OAAO,CAACrB,cAAc,CAAEG,IAAI,CAACmB,SAAS,CAACX,KAAK,CAACT,KAAK,CAAC,CAAC,CACjEH,OAAO,CAACwB,OAAO,CAAC,sBAAsB,CAAC,CACzC,CAAC,CAEDC,uBAAuB,CAAEA,CAACb,KAAK,CAAEC,MAAM,GAAK,CAC1CD,KAAK,CAACT,KAAK,CAAGS,KAAK,CAACT,KAAK,CAACuB,MAAM,CAAER,IAAI,EAAKA,IAAI,CAACC,EAAE,GAAKN,MAAM,CAACE,OAAO,CAAC,CACtET,YAAY,CAACgB,OAAO,CAACrB,cAAc,CAAEG,IAAI,CAACmB,SAAS,CAACX,KAAK,CAACT,KAAK,CAAC,CAAC,CACnE,CAAC,CAEDwB,aAAa,CAAEA,CAACf,KAAK,CAAEC,MAAM,GAAK,CAChCD,KAAK,CAACT,KAAK,CAAG,EAAE,CAChBG,YAAY,CAACgB,OAAO,CAACrB,cAAc,CAAEG,IAAI,CAACmB,SAAS,CAACX,KAAK,CAACT,KAAK,CAAC,CAAC,CACnE,CAAC,CAEDyB,0BAA0B,CAAEA,CAAChB,KAAK,CAAEC,MAAM,GAAK,CAC7C,KAAM,CAAEM,EAAE,CAAEC,QAAS,CAAC,CAAGP,MAAM,CAACE,OAAO,CACvC,KAAM,CAAAC,gBAAgB,CAAGJ,KAAK,CAACT,KAAK,CAACc,SAAS,CAAEY,IAAI,EAAKA,IAAI,CAACV,EAAE,GAAKA,EAAE,CAAC,CACxEP,KAAK,CAACT,KAAK,CAACa,gBAAgB,CAAC,CAACI,QAAQ,CAAGA,QAAQ,CACjDd,YAAY,CAACgB,OAAO,CAACrB,cAAc,CAAEG,IAAI,CAACmB,SAAS,CAACX,KAAK,CAACT,KAAK,CAAC,CAAC,CACnE,CACF,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CACXQ,oBAAoB,CACpBc,uBAAuB,CACvBE,aAAa,CACbC,0BACF,CAAC,CAAGpB,SAAS,CAACsB,OAAO,CACrB,MAAO,MAAM,CAAAC,WAAW,CAAGvB,SAAS,CAACwB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}